###*
 * eastwood.js - <%= app %>
###
app = { env : "<%= env %>", routes : { } }

###*
 * Exports
###
<% if exports.any? %>
app.exports =
<% exports.each do |key, value| %>
  <%= key.to_s %> : <%= value.is_a?( String ) ? "'#{value}'" : value %>
<% end %>
<% end %>

###*
 * Routes
###
<% if server_routes.any? or client_routes.any? %>
app.routes =
<% server_routes.each do |key, route| %>
  <%= route.coffee_name %> : ( <%= route.coffee_args %> ) -> "<%= route.coffee_path %>"
<% end %>
<% client_routes.each do |key, route| %>
  <%= route.coffee_name %> : ( <%= route.coffee_args %> ) -> "<%= route.coffee_path %>"
<% end %>
<% end %>

###*
 * Export
###
<%= target %>.<%= app %> = app
