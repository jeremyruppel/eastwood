app = env : '<%= env %>', routes : root_path : -> "/"

<% named_routes.each do |r| %>
# name: <%= r.name %>
# conditions: <%= r.conditions %>
# defaults: <%= r.defaults %>
# path: <%= r.path %>
# requirements: <%= r.requirements %>
# verb: <%= r.verb %>
# segment_keys: <%= r.segment_keys %>

<% unless r.segment_keys.empty? %>

app.routes.<%= r.name %>_path = ( <%= r.segment_keys.join ', ' %>='json' ) ->
  "<%= r.path.delete( '()' ).gsub /:(\w+)/, '#{\1}' %>"

<% end %>

<% end %>

###
<%= client_routes.inspect %>
###

window.<%= application_name %> = app
